
<!doctype html>
<html lang="nl" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Studiemateriaal voor de module webtechnologie 3 van de Hanzehogeschool Groningen">
      
      
        <meta name="author" content="Bart Barnard en Kayleigh Beard">
      
      
        <link rel="canonical" href="https://hanze-hbo-ict.github.io/webtech3/week7/practicum.html">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.4">
    
    
      
        <title>Practicum - Webtechnologie 3</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4a0965b7.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#546d78">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
      <link rel="stylesheet" href="../css/ansi-colours.css">
    
      <link rel="stylesheet" href="../css/jupyter-cells.css">
    
      <link rel="stylesheet" href="../css/pandas-dataframe.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue-grey" data-md-color-accent="orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#practicum-week-7" class="md-skip">
          Ga naar inhoud
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Webtechnologie 3" class="md-header__button md-logo" aria-label="Webtechnologie 3" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Webtechnologie 3
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Practicum
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Zoeken" placeholder="Zoeken" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Webtechnologie 3" class="md-nav__button md-logo" aria-label="Webtechnologie 3" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Webtechnologie 3
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Introductie
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../practicum.html" class="md-nav__link">
        Werkwijze tijdens de practica
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../memory.html" class="md-nav__link">
        Memory game
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../colleges.html" class="md-nav__link">
        Hoorcolleges
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          1. HTML en CSS 1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="1. HTML en CSS 1" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          1. HTML en CSS 1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week1/index.html" class="md-nav__link">
        Inleiding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week1/practicum.html" class="md-nav__link">
        Practicum
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week1/memory.html" class="md-nav__link">
        Memory
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          2. HTML en CSS 2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="2. HTML en CSS 2" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          2. HTML en CSS 2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week2/index.html" class="md-nav__link">
        Inleiding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week2/practicum.html" class="md-nav__link">
        Practicum
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week2/memory.html" class="md-nav__link">
        Memory (toetsmoment)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          3. Javascript
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="3. Javascript" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          3. Javascript
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week3/index.html" class="md-nav__link">
        Inleiding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week3/practicum.html" class="md-nav__link">
        Practicum
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week3/memory.html" class="md-nav__link">
        Memory
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          4. Externe bronnen
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="4. Externe bronnen" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          4. Externe bronnen
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week4/index.html" class="md-nav__link">
        Inleiding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week4/practicum.html" class="md-nav__link">
        Practicum
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week4/memory.html" class="md-nav__link">
        Memory (toetsmoment)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          5. Beveiliging en JWT
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="5. Beveiliging en JWT" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          5. Beveiliging en JWT
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week5/index.html" class="md-nav__link">
        Inleiding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week5/practicum.html" class="md-nav__link">
        Practicum
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week5/memory.html" class="md-nav__link">
        Memory (toetsmoment)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          6. MVC en Frameworks 1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="6. MVC en Frameworks 1" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          6. MVC en Frameworks 1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week6/index.html" class="md-nav__link">
        Inleiding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week6/practicum.html" class="md-nav__link">
        Practicum
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../week6/memory.html" class="md-nav__link">
        Memory
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          7. MVC en Frameworks 2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="7. MVC en Frameworks 2" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          7. MVC en Frameworks 2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        Inleiding
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Practicum
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="practicum.html" class="md-nav__link md-nav__link--active">
        Practicum
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Inhoudsopgave">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhoudsopgave
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-native-events" class="md-nav__link">
    1: Native events
  </a>
  
    <nav class="md-nav" aria-label="1: Native events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#opgave-1a-native-events" class="md-nav__link">
    Opgave 1a: Native events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opdracht-1b-afvangen" class="md-nav__link">
    Opdracht 1b: Afvangen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opdracht-1c-doorsturen" class="md-nav__link">
    Opdracht 1c: Doorsturen
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#opdracht-2-services" class="md-nav__link">
    Opdracht 2: Services
  </a>
  
    <nav class="md-nav" aria-label="Opdracht 2: Services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#opdracht-2a-maken-van-een-service" class="md-nav__link">
    Opdracht 2a: maken van een service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2b-publish-subscribe" class="md-nav__link">
    2b: publish-subscribe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opdracht-2c-weergeven-van-de-data" class="md-nav__link">
    Opdracht 2c: weergeven van de data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opdracht-2d-online-data" class="md-nav__link">
    Opdracht 2d: online data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="memory.html" class="md-nav__link">
        Memory (toetsmoment)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Inhoudsopgave">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhoudsopgave
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-native-events" class="md-nav__link">
    1: Native events
  </a>
  
    <nav class="md-nav" aria-label="1: Native events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#opgave-1a-native-events" class="md-nav__link">
    Opgave 1a: Native events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opdracht-1b-afvangen" class="md-nav__link">
    Opdracht 1b: Afvangen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opdracht-1c-doorsturen" class="md-nav__link">
    Opdracht 1c: Doorsturen
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#opdracht-2-services" class="md-nav__link">
    Opdracht 2: Services
  </a>
  
    <nav class="md-nav" aria-label="Opdracht 2: Services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#opdracht-2a-maken-van-een-service" class="md-nav__link">
    Opdracht 2a: maken van een service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2b-publish-subscribe" class="md-nav__link">
    2b: publish-subscribe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opdracht-2c-weergeven-van-de-data" class="md-nav__link">
    Opdracht 2c: weergeven van de data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opdracht-2d-online-data" class="md-nav__link">
    Opdracht 2d: online data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="practicum-week-7">Practicum week 7<a class="headerlink" href="#practicum-week-7" title="Permanent link">&para;</a></h1>
<p>Vorige week hebben we via wat eenvoudige oefeningen kennis gemaakt met TypeScript en met Angular. We hebben gezien hoe je met behulp van de <code>@Input()</code> en de <code>@Output()</code> annotaties data tussen verschillende componenten kunt versturen en ontvangen. Deze week gaan we dieper in op componenten en data. We kijken hierbij hoe je gebruik kunt maken van DOM-events of van Services om data tussen componenten te delen.</p>
<p>Zorg ervoor dat je Angular (inclusief de CLI) op je lokale machine hebt draaien. Maak gebruik van <code>ng new week7</code> om een nieuw project op te starten. Dit commando maakt een nieuwe directory (<code>week7</code>) voor je aan. Vervang de bestanden in de <code>src</code>-directory door <a href="files/week7.zip">de bestanden van deze week</a>.</p>
<h2 id="1-native-events">1: Native events<a class="headerlink" href="#1-native-events" title="Permanent link">&para;</a></h2>
<h3 id="opgave-1a-native-events">Opgave 1a: Native events<a class="headerlink" href="#opgave-1a-native-events" title="Permanent link">&para;</a></h3>
<p>Deze opgave gaan we werken met <a href="https://angular.io/guide/architecture-modules">modules</a>. Een module kun je zien als een container waarin stukken code worden geplaatst die samen verantwoordelijk zijn voor een bepaalde functionaliteit. Dit kunnen componenten zijn, maar ook services, constanten, of andere stukken programmacode. Alle onderdelen binnen dezelfde module hebben dezelfde scope (namelijk de module en op die manier fungeert een module dan ook als een <em>sandbox</em>.</p>
<p>Het grootste deel van de infrastructuur is al voor je opgezet. Zoals je ziet zijn er in de directory <code>app/cards</code> twee componenten: <code>docent-search</code> en <code>student-search</code>. Deze twee bestanden vormen een soort kaartje waarvan de bezoeker van de site gebruik kan maken om gegevens van docenten en van (drum roll) studenten op te vragen. Bestudeer de code om je een beeld te vormen van hoe één en ander werkt.</p>
<p><img alt="Voorbeeld van de twee kaartjes" src="imgs/doel1.png" /></p>
<p>Vorig week hebben we gezien dat je data van de ene naar de andere component kon verzenden door gebruik te maken van <code>@Output()</code> en <code>@Input()</code>. Op zich werkt dit prima, alleen is het probleem dat <a href="https://github.com/angular/angular/issues/2296">deze events niet bubbelen</a>: als ze eenmaal door een component zijn afgevangen, houdt het doorsturen van dit Event ook op. Nu zou je natuurlijk dat proces weer kunnen herhalen, maar het is beter om gebruik te maken van native DOM-events, want <a href="https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-flow-bubbling">die bubbelen wèl standaard</a>.</p>
<p>In deze opgave gaan we de zoekterm die de bezoeker intypt doorsturen naar de <code>results</code>-component. Als je kijkt naar <code>app.component.ts</code> zie je dat dit een <em>sibling</em> is van de beide zoekkaartjes. De uitdaging is dus om de zoekterm en het zoektype (student of docent) naar deze sibling te krijgen. Zie onderstaande afbeelding door de flow:</p>
<p><img alt="Algemeen overzicht van de flow van de events" src="imgs/event-handling.png" /></p>
<p>Voeg aan de zoekkaart (<code>app/shared/search-box.component.ts</code>) een methode <code>handleEvent()</code> toe die luistert naar een <code>blur</code>-event op het input-veld en een <code>click</code> event op het loepje. Deze methode moet <a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent">een custom DomElement uitsturen</a> met als naam <code>newdata</code>. Dit event stuurt de string uit het inputveld en het type waarop wordt gezocht door: deze combinatie is weergegeven in de interface <code>searchdata</code>. Maak hierbij gebruik van het <em>property</em> <code>ElementRef</code> dat je in de constructor geïnjecteerd ziet worden. Het veld <code>searchItem</code> dat je hier zit staan, wordt door de betreffende zoekkaartje geïnitialiseerd (met 'docent' of 'student') Merk op dat het input-element van het formulier voorzien is van de identifier <code>#searchbox</code>. </p>
<h3 id="opdracht-1b-afvangen">Opdracht 1b: Afvangen<a class="headerlink" href="#opdracht-1b-afvangen" title="Permanent link">&para;</a></h3>
<p>Omdat dit event helemaal doorloopt tot de bovenste component (<code>app.component</code>) kunnen we het daar ook opvangen. Zoals je kunt zien maken we daar al gebruik van de module <code>search-result</code> om de gevonden resultaten onderop de pagina weer te geven. Het is de bedoeling van deze opdracht om het event dat door de search-box wordt verstuurt wordt opgevangen door de <code>app-component</code> die het vervolgens doorstuurt aan de <code>search-result</code>-component.</p>
<p>Wanneer het customevent wordt uitgestuurd, moet deze <code>app-component</code> daarop reageren. Zorg er dus voor (in de html) dat dit event wordt afgevangen en dat er een methode in die component daarop reageert (maak gebruik van de <code>(event)="handler()</code>-syntax). Deze methode moet het veld <code>searchdata</code> zetten naar datgene wat er door het event wordt doorgestuurd.</p>
<h3 id="opdracht-1c-doorsturen">Opdracht 1c: Doorsturen<a class="headerlink" href="#opdracht-1c-doorsturen" title="Permanent link">&para;</a></h3>
<p>Nu we het veld <code>searchdata</code> van de <code>app.component</code> aanpassen op het moment dat er een customevent wordt doorgestuurd, kunnen we dit veld gebruiken om de corresponderende waarde in de <code>search-result</code>-component te zetten. Maak gebruik van de <code>[attribute]="value"</code>-syntax om dit te bewerkstelligen.</p>
<p>Implementeer vervolgens (en tenslotte) de methode <code>ngOnChanges</code> in de <code>search-result</code>-component. Deze component heeft al beschikkig over de student- en docentdata, dus het enige wat hier moet doen is checken of er gezocht wordt op een student of een docent en vervolgende de betreffende array filteren op respectievelijk het studentnummer of de vierlettercode. Bekijk de data in <code>data.ts</code> om te zien hier deze arrays eruit zien.</p>
<p>Geeft het veld <code>docentdata</code> of <code>studentdata</code> de waarde van het gevonden resultaat (en de andere array op <code>undefined</code>) en zoek een student of docent. Als het goed is, krijg je nu de resultaten van je zoekopdracht te zien.</p>
<p><img alt="Het eindresultaat: we kunnen zoeken!" src="imgs/zoek-resultaat.png" /></p>
<h2 id="opdracht-2-services">Opdracht 2: Services<a class="headerlink" href="#opdracht-2-services" title="Permanent link">&para;</a></h2>
<p>Hoewel dit werken met events op zich wel werkt, is het (zoals je merkt) behoorlijk omslachtig en foutgevoelig. Om het werken met data makkelijker te maken, wordt in de regel gebruik gemaakt van <a href="https://angular.io/guide/architecture-services">services</a> – een techniek die we in web 2 ook al zijn tegengekomen. Een service kun je <em>injecteren</em> in de componenten die er gebruik van moeten maken (ze worden dan ook voorzien van de annotatie <code>@Injectable</code>).</p>
<p><img alt="Services worden geïnjecteerd in de modules" src="imgs/injectable.png" /></p>
<h3 id="opdracht-2a-maken-van-een-service">Opdracht 2a: maken van een service<a class="headerlink" href="#opdracht-2a-maken-van-een-service" title="Permanent link">&para;</a></h3>
<p>Maak met de angular CLI een service <code>data</code>. Bestudeer de code die voor je gegenereert wordt:</p>
<div class="highlight"><pre><span></span><code>% ng generate service data
CREATE src/app/data.service.spec.ts <span class="o">(</span><span class="m">347</span> bytes<span class="o">)</span>
CREATE src/app/data.service.ts <span class="o">(</span><span class="m">133</span> bytes<span class="o">)</span>
% 
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">spec.ts</p>
<p>Dat tweede bestand <code>spec.ts</code> is het bestand dat je kunt gebruiken voor het <em>testen</em> van de gegenereerde service. Je kunt die eventueel wel weer weghalen, want testen doen we natuurlijk niet.</p>
</div>
<p>Feitelijk doet deze service hetzelfde als wat je net in opdracht 1c hebt gedaan: het bevragen van de data op basis van een <code>searchdata</code>-object en dat opslaan in de corresponderende velden (<code>docentdata</code> of <code>studentdata</code>). Je kunt dus grote delen van deze code kopiëren in een methode <code>getData(what:searchdata)</code> die je in deze service moet maken.</p>
<h3 id="2b-publish-subscribe">2b: publish-subscribe<a class="headerlink" href="#2b-publish-subscribe" title="Permanent link">&para;</a></h3>
<p>Zoals tijdens de theorieles is besproken, kun je werken met services zien als een vorm van publish-subscribe. Dat betekent dat je de service moet voorzien van een attribuut waar andere componenten zich op kunne abonneren. In het geval van Angular wordt hierbij gebruik gemaakt van <a href="https://www.learnrxjs.io/learn-rxjs/subjects/behaviorsubject">RxJS BehaviorSubject</a>. Je kunt deze properties gebruiken om wijzigingen in een andere property te versturen.  Bekijk onderstaande (pseudo-)code om hier een beeld bij te krijgen.</p>
<div class="highlight"><pre><span></span><code><span class="kd">@Injectable</span><span class="p">()</span><span class="w"></span>
<span class="kd">class</span><span class="w"> </span><span class="nx">Publisher</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// maak property om waarden in op te slaan</span><span class="w"></span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="kt">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"></span>

<span class="w">    </span><span class="c1">// maak property waar anderen naar kunnen luisteren</span><span class="w"></span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="nx">name$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">BehaviorSubject</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span><span class="w"></span>

<span class="w">    </span><span class="nx">newName</span><span class="p">(</span><span class="nx">value</span><span class="o">:</span><span class="kt">String</span><span class="o">:</span><span class="ow">void</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">value</span><span class="w"></span>

<span class="w">        </span><span class="c1">// verstuur een bericht aan de subscribers</span><span class="w"></span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">name$</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">class</span><span class="w"> </span><span class="nx">Subscriber</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kr">constructor</span><span class="w"> </span><span class="p">(</span><span class="k">private</span><span class="w"> </span><span class="nx">publisher</span><span class="o">:</span><span class="kt">Publisher</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="nx">ngOnInit</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// luister naar wijzigingen in publisher.name$</span><span class="w"></span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">publisher</span><span class="p">.</span><span class="nx">name$</span><span class="p">.</span><span class="nx">subscribe</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>Gebruik deze techniek om de data van studenten en docenten via de service beschikbaar te maken aan de <code>result</code>-component (dat wordt in dit verhaal dus de <em>subscriber</em>).</p>
<h3 id="opdracht-2c-weergeven-van-de-data">Opdracht 2c: weergeven van de data<a class="headerlink" href="#opdracht-2c-weergeven-van-de-data" title="Permanent link">&para;</a></h3>
<p>Injecteer vervolgens de service in de <code>search</code>-component en zorg ervoor dat de methode <code>handleEvent</code> nu geen gebruik meer maakt van een customevent, maar juist van de method <code>getData()</code> in de service. Als je het goed hebt gedaan, zie je nu opnieuw de resultaten van de zoekopdracht in het veld onderaan de pagina verschijnen.</p>
<h3 id="opdracht-2d-online-data">Opdracht 2d: online data<a class="headerlink" href="#opdracht-2d-online-data" title="Permanent link">&para;</a></h3>
<p>Natuurlijk is het meestal niet zo dat de data die getoond moet worden op de frontend zelf beschikbaar is. Normaliter maak je gebruik van een backend, waar een database achter zit. In deze laatste opdracht gaan we deze stap zetten.</p>
<p>In de bestanden van deze week zit ook een directory backend, waarin een heel eenvoudig php-script dezelfde data beschikbaar stelt als die in het bestand <code>data.ts</code>. Start in deze directory een php-server op (<code>php -S localhost:8080</code>) en vervang de code in de dataservice door een <code>fetch</code> naar deze backend. Het endpoint <code>data.php?what=docent</code> geeft je de docentdata terug en het endpoint <code>data.php?what=student</code> de studentdata.</p>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="index.html" class="md-footer__link md-footer__link--prev" aria-label="Vorige: Inleiding" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Vorige
              </span>
              Inleiding
            </div>
          </div>
        </a>
      
      
        
        <a href="memory.html" class="md-footer__link md-footer__link--next" aria-label="Volgende: Memory (toetsmoment)" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Volgende
              </span>
              Memory (toetsmoment)
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      HG 2021
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.85cb4492.min.js", "translations": {"clipboard.copied": "Gekopieerd naar klembord", "clipboard.copy": "Kopi\u00ebren naar klembord", "search.config.lang": "nl", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Zoeken", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "Geen overeenkomende documenten", "search.result.one": "1 overeenkomende document", "search.result.other": "# overeenkomende documenten", "search.result.placeholder": "Typ om te beginnen met zoeken", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.f758a944.min.js"></script>
      
        <script src="../js/imgs.js"></script>
      
        <script src="../js/matjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>